//- views/local_scene.pug
.content-scroll(data-page="local")
  //- 1. HERO: YOUR CITY
  .dashboard-hero
    h1(style="margin-bottom: 5px; font-size: 2rem; font-weight: 900") <i class="fas fa-map-marker-alt" style="color:var(--accent-orange)"></i> #{userLocation.city} Scene
    p.subtitle(style="color:var(--text-secondary); font-weight:700; margin-bottom:20px") Pulse of #{userLocation.state}
    
    //- Neighbor Cities Selector (Visual only for now, logic in enhancedPlayer if needed)
    .mood-tabs
      button.mood-tab.active All #{userLocation.state}

    //- The "Neighbor Grid" (Populated by JS or Defaults)
    .mood-grid-hero#localCityGrid
      //- JS populates this via renderLocalGrid()
      .mood-card.skeleton-box
      .mood-card.skeleton-box
      .mood-card.skeleton-box
      .mood-card.skeleton-box

  //- 2. LOCAL CONTENT
  
  //- Swimlane A: Top Artists (Replaces "Top 50")
  section.feed-section
    .section-header
      h3#local-title-1 Top Artists in #{userLocation.city}
      button.btn-text See All
    
    .scroll-row#local-row-1
      .media-card.skeleton-box(style="min-width:160px; height:220px")
      .media-card.skeleton-box(style="min-width:160px; height:220px")
      .media-card.skeleton-box(style="min-width:160px; height:220px")

  //- Swimlane B: Fresh Drops (Replaces "Tonight in...")
  section.feed-section
    .section-header
      h3#local-title-2 Fresh Drops in #{userLocation.city}
    
    .scroll-row#local-events
       .media-card.skeleton-box(style="min-width:160px; height:200px")
       .media-card.skeleton-box(style="min-width:160px; height:200px")

  //- Swimlane C: Vibe Matches (Replaces "Curators")
  section.feed-section
    .section-header
      h3#local-title-3 For You (Genre Match)
    
    .artist-circle-row#local-curators(style="display:flex; gap: 20px; overflow-x: auto; padding-bottom: 10px")
       .artist-circle.skeleton-box(style="width:100px; height:100px; border-radius:50%")
       .artist-circle.skeleton-box(style="width:100px; height:100px; border-radius:50%")

  div(style="height: 120px")

//- Scripts are injected by the main layout, but if standalone:
script(type="module" src="/javascripts/enhancedPlayer.js")
script(type="module" src="/javascripts/appRouter.js")