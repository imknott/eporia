//- views/wallet.pug
extends player_shell

block content
  .content-scroll(data-page="wallet")
    
    //- 1. BANKING HERO SECTION
    .wallet-hero
      .wallet-header
        h1 My Wallet
        //- [FIX] Removed hardcoded crown icon here, let JS handle the badge content entirely
        .chip-badge.premium#walletPlanBadge
            span Loading...
      
      //- THE "DIGITAL CARD"
      .balance-card
        .card-bg-art
        .card-top
            span.card-label Available to Allocate
            //- [FIX] Removed WiFi Icon
            .card-chip
        .card-balance
            span.currency $
            span#walletBalanceDisplay 0.00
        .card-bottom
            .card-info-col
                span.label Monthly Allocation
                span.value#walletAllocation $0.00
            .card-logo EPORIA
      
      //- ALLOCATION INTERFACE
      #allocationContainer
        .allocation-container(style="text-align:center; padding:60px")
            i.fas.fa-circle-notch.fa-spin(style="font-size:2rem; color:var(--primary)")
            p(style="margin-top:15px; color:var(--text-secondary)") Loading artists...

    //- 2. TRANSACTION LIST
    section.feed-section(style="max-width: 800px; margin: 0 auto 50px")
      .section-header(style="padding: 0 10px; margin-bottom: 15px")
        h3 Transaction History
      
      .transaction-list#transactionList
        .tx-loading(style="text-align:center; padding:40px; color:var(--text-secondary)")
          i.fas.fa-circle-notch.fa-spin(style="font-size:1.5rem; color:var(--primary); display:block; margin-bottom:10px")
          p Loading transactions...