doctype html
html
  head
    title Become an Eporia Artist | Creator Portal
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    //- Cyberpunk Fonts & Icons
    link(rel='stylesheet', href='https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=Share+Tech+Mono&display=swap')
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css")
    
    //- Cyberpunk Electronic Stylesheet
    link(rel='stylesheet' href='/stylesheets/onboardingStyle.css')

  body
    //- Background Animation Container
    .animated-background#animBg

    .onboarding-page-wrapper
      //- Header
      header.onboarding-nav.mobile-refined-nav
        .nav-left
            a.back-link(href="/") 
                i.fas.fa-arrow-left
                span Home
        .nav-center
            .brand-stack
                .brand EPORIA 
                span.mode-badge ARTIST PORTAL
        .nav-right
            a.artist-login-link(href="/artist/login")
                span.login-text-muted Already joined?
                span.highlight Log In
      
      //- Main Form Card
      main.onboarding-window
        .step-indicator
          .step.active(data-step="1") Identity
          .step(data-step="2") Verification
          .step(data-step="3") Sound Profile
          .step(data-step="4") Review
        
        form#artistOnboardingForm

          //- ==========================================
          //- STEP 1: BASIC IDENTITY
          //- ==========================================
          section.step-content#step1
            h1 Who are you?
            p.subtitle Let's start with the basics.

            .input-group
              label Public Artist Name *
              input(type="text" name="artistName" placeholder="e.g. Neon Echoes" required)
            
            .grid-2
              .input-group
                label Primary Location
                input(type="text" name="location" placeholder="e.g. San Diego, CA" autocomplete="off")
              .input-group
                label Public Handle
                .handle-wrapper
                  span.handle-prefix @
                  input(type="text" name="handle" placeholder="neonechoes" required)
                  span.validation-icon

            .input-group
              label Artist Bio *
              textarea(name="bio" rows="3" placeholder="Tell your fans about your journey...")

            .btn-centered-row
              button.btn-next(type="button" onclick="nextStep()") Next: Verification

          //- ==========================================
          //- STEP 2: VERIFICATION (AUTHENTICATION FOCUSED)
          //- ==========================================
          section.step-content.hidden#step2
            h1 Artist Verification
            p.subtitle We need to confirm you own the music and identity you're claiming.

            //- Email (Required for verification)
            .input-group
                label 
                    i.fas.fa-envelope
                    span Contact Email *
                input(type="email" name="contactEmail" placeholder="artist@example.com" required)
                p.helper-text This is where we'll contact you to complete verification.

            //- Artist Type
            .input-group
                label Artist Type *
                .checkbox-card-group
                    label.checkbox-card
                        input(type="radio" name="artistType" value="solo" checked onchange="toggleBandMembers(false)")
                        .card-content
                            i.fas.fa-user
                            span Solo Artist
                    label.checkbox-card
                        input(type="radio" name="artistType" value="group" onchange="toggleBandMembers(true)")
                        .card-content
                            i.fas.fa-users
                            span Group / Band

            //- Band Members (Dynamic)
            #bandMembersSection(style="display:none;")
                label.label Band Members (Legal Names) *
                p.helper-text Required for copyright verification. All members will need to provide ID.
                .dynamic-list#membersList
                    input(type="text" name="members[]" placeholder="Member 1 Full Legal Name")
                    input(type="text" name="members[]" placeholder="Member 2 Full Legal Name")
                button.btn-text(type="button" onclick="addMemberInput()") + Add Another Member

            h3.section-divider
                i.fas.fa-link
                | Music Platform Links

            p.helper-text Provide at least ONE existing music platform where we can verify your discography. This proves ownership.

            .grid-2
                .input-group
                    label 
                        i.fab.fa-spotify
                        span Spotify Artist URL
                    input(type="url" name="link_spotify" placeholder="http://open.spotify.com/artist/...")
                .input-group
                    label 
                        i.fab.fa-youtube
                        span YouTube Music / Channel
                    input(type="url" name="link_youtube" placeholder="https://youtube.com/...")

            .grid-2
                .input-group
                    label 
                        i.fab.fa-apple
                        span Apple Music
                    input(type="url" name="link_apple" placeholder="https://music.apple.com/...")
                .input-group
                    label 
                        i.fas.fa-music
                        span Tidal / SoundCloud / Other
                    input(type="url" name="link_other" placeholder="Profile URL")

            h3.section-divider 
                i.fas.fa-hashtag
                | Social Media (Optional)

            .grid-2
                .input-group
                    label 
                        i.fab.fa-instagram
                        span Instagram
                    input(type="text" name="link_instagram" placeholder="@username")
                .input-group
                    label 
                        i.fab.fa-tiktok
                        span TikTok
                    input(type="text" name="link_tiktok" placeholder="@username")

            //- ISRC Field (Optional but helps)
            .input-group.highlight-box
                label 
                    i.fas.fa-fingerprint
                    span Previous Release ISRC (Optional but Recommended)
                input(type="text" name="verification_isrc" placeholder="e.g. US-S1Z-25-00001")
                p.helper-text An ISRC from any previous release instantly validates your discography history.

            //- Preferred Contact Method
            .input-group.highlight-box
                label 
                    i.fas.fa-headset
                    span Preferred Verification Method *
                select(name="contactMethod" required)
                    option(value="") -- Select Method --
                    option(value="email") Email Thread
                    option(value="discord") Discord Call
                    option(value="zoom") Video Verification (Live)
                    option(value="phone") Phone Call
                p.helper-text We'll reach out here to confirm your band members and identity before activating your account.

            .btn-centered-row
                button.btn-back(type="button" onclick="prevStep()") Back
                button.btn-next(type="button" onclick="nextStep()") Next: Sound Profile

          //- ==========================================
          //- STEP 3: SOUND PROFILE (Formerly Step 4)
          //- ==========================================
          section#step3.step-content.hidden
            h1 Your Sound
            p.subtitle Help listeners discover you through genre & mood.

            .input-group
              label Primary Genre *
              select#primaryGenre(name="primaryGenre" required)
                option(value="" disabled selected) Select your main genre...

            //- Subgenre Container (Dynamic)
            #subgenreContainer.visuals-container-centered(style="display:none")
              label Subgenres (Optional)
              #subgenreChips.chip-grid

            //- Mood / Vibe Selection
            .input-group(style="margin-top: 30px")
              label Select Moods / Vibes (Optional)
              p.helper-text Choose all that apply â€” helps with playlist matching.
              .checkbox-card-group
                label.checkbox-card.small-card
                  input(type="checkbox" name="moodIds" value="chill")
                  .card-content
                    i.fas.fa-leaf
                    span Chill
                
                label.checkbox-card.small-card
                  input(type="checkbox" name="moodIds" value="energetic")
                  .card-content
                    i.fas.fa-bolt
                    span Energetic
                
                label.checkbox-card.small-card
                  input(type="checkbox" name="moodIds" value="emotional")
                  .card-content
                    i.fas.fa-heart
                    span Emotional
                
                label.checkbox-card.small-card
                  input(type="checkbox" name="moodIds" value="dark")
                  .card-content
                    i.fas.fa-moon
                    span Dark
                
                label.checkbox-card.small-card
                  input(type="checkbox" name="moodIds" value="uplifting")
                  .card-content
                    i.fas.fa-sun
                    span Uplifting
                
                label.checkbox-card.small-card
                  input(type="checkbox" name="moodIds" value="nostalgic")
                  .card-content
                    i.fas.fa-hourglass-half
                    span Nostalgic

            .btn-centered-row
                button.btn-back(type="button" onclick="prevStep()") Back
                button.btn-next(type="button" onclick="nextStep()") Next: Review & Submit

          //- ==========================================
          //- STEP 4: REVIEW & LEGAL (Formerly Step 5)
          //- ==========================================
          section.step-content.hidden#step4
            h1 Review & Submit
            p.subtitle Finalize your artist application.
            .visuals-container-centered
                //- 1. Goals Selection
                .input-group
                  label Dashboard Features
                  p.helper-text What features do you want enabled after approval?
                  .checkbox-card-group
                    label.checkbox-card
                      input(type="checkbox" name="goals" value="merch")
                      .card-content
                        i.fas.fa-tshirt
                        span Sell Merch
                    
                    label.checkbox-card
                      input(type="checkbox" name="goals" value="tips")
                      .card-content
                        i.fas.fa-coins
                        span Receive Tips
                    
                    label.checkbox-card
                      input(type="checkbox" name="goals" value="events")
                      .card-content
                        i.fas.fa-calendar-alt
                        span List Events
                
                //- 2. LEGAL CHECKLIST
                .legal-consent-container
                  
                  div.legal-header
                    h4 Required Agreements
                    p Please read and accept the following to proceed.

                  .legal-checklist
                    
                    //- Terms
                    .legal-item(id="item-terms" onclick="openModal('termsModal')")
                      div
                        .icon-box
                            i.fas.fa-gavel
                        span Terms of Service
                      i.status-icon.far.fa-circle

                    //- Privacy
                    .legal-item(id="item-privacy" onclick="openModal('privacyModal')")
                      div
                        .icon-box
                            i.fas.fa-user-shield
                        span Privacy Policy
                      i.status-icon.far.fa-circle

                    //- Cookie
                    .legal-item(id="item-cookie" onclick="openModal('cookieModal')")
                      div
                        .icon-box
                            i.fas.fa-cookie-bite
                        span Cookie Policy
                      i.status-icon.far.fa-circle
                      
                    //- Creator Agreement
                    .legal-item(id="item-agreement" onclick="openModal('agreementModal')")
                      div
                         .icon-box
                            i.fas.fa-signature
                         span Creator Agreement
                      i.status-icon.far.fa-circle

                  //- Final Confirmation
                  label#mainLegalLabel
                    input#legalCheck(type="checkbox" disabled)
                    div I confirm that I have read and agree to all 4 agreements above.

            .btn-centered-row
                button.btn-back(type="button" onclick="prevStep()") Back
                button.btn-next.btn-submit-final#btnSubmitFinal(type="button" onclick="submitApplication()" disabled) Submit Application

          //- ==========================================
          //- SUCCESS CONFIRMATION (Hidden, shown after submit)
          //- ==========================================
          section.step-content.hidden#stepSuccess
            .success-container
                .success-icon
                    i.fas.fa-check
                
                h1 Application Submitted!
                
                p.subtitle Thank you for signing up to be an Eporia artist. We'll be contacting you at your preferred method of contact to verify your identity and music ownership.
                
                .info-box
                    h3
                        i.fas.fa-clock
                        | What happens next?
                    ul
                        li Our team will review your application within 2-3 business days
                        li We'll reach out via your preferred contact method to verify your identity
                        li Once verified, we'll activate your artist dashboard and notify you via email
                        li You can then customize your profile, upload images, and start sharing music!
                
                .contact-email
                    | Questions? Contact us at 
                    a(href="mailto:eporiamusic@outlook.com") eporiamusic@outlook.com
                
                a.btn-next(href="/") Return Home

    //- ==========================================
    //- LEGAL MODALS (IFRAMES)
    //- ==========================================

    //- TERMS MODAL
    #termsModal.modal-overlay
      .crop-modal.legal-modal-size
        .modal-header
          h2 Terms of Service
          p.subtitle Loading from Eporia Legal...
        .iframe-container
          iframe.legal-frame(data-src="/legal/terms")
        .modal-actions
          button.btn-next(onclick="acceptLegal('terms')") I Have Read & Accept

    //- PRIVACY MODAL
    #privacyModal.modal-overlay
      .crop-modal.legal-modal-size
        .modal-header
          h2 Privacy Policy
          p.subtitle Loading from Eporia Legal...
        .iframe-container
          iframe.legal-frame(data-src="/legal/privacy")
        .modal-actions
          button.btn-next(onclick="acceptLegal('privacy')") I Have Read & Accept

    //- COOKIE MODAL
    #cookieModal.modal-overlay
      .crop-modal.legal-modal-size
        .modal-header
          h2 Cookie Policy
          p.subtitle Loading from Eporia Legal...
        .iframe-container
          iframe.legal-frame(data-src="/legal/cookie")
        .modal-actions
          button.btn-next(onclick="acceptLegal('cookie')") I Have Read & Accept

    //- CREATOR AGREEMENT MODAL
    #agreementModal.modal-overlay
      .crop-modal.legal-modal-size
        .modal-header
          h2 Creator Agreement
          p.subtitle Artist Revenue & Rights
        .iframe-container
          iframe.legal-frame(data-src="/legal/creator_agreement")
        .modal-actions
          button.btn-next(onclick="acceptLegal('agreement')") I Have Read & Accept

    //- SCRIPTS
    script(type="module" src="/javascripts/artistSignup.js")